## 一、项目介绍
这次带大家做个支持高并发、高可用、高性能的大流量点赞系统（偏技术的项目），很多同学听见“高并发、大流量”这些词都会不自觉的发怵，这个项目就是要帮助大家熟悉相关的技术和解决方案。

本项目是一个基于 Spring Boot 3 + Java 21 + MyBatis-Plus + TiDB + Redis + Pulsar + Docker + Nginx 的高并发点赞系统。该项目涵盖高并发、大流量、分布式架构等核心技术，集成最新的技术栈和架构设计方案，是从 0 到 1 打造大流量点赞系统的实践，帮助大家全面掌握企业级系统开发与优化经验。

## 二、需求分析
### 应用场景
点赞系统是社交平台、内容社区等场景的核心互动功能：

![](./public/images/image%20(3).png)

典型应用场景包括：

+ 短视频/文章/博客的点赞互动
+ 商品评价的喜欢功能
+ 用户动态的点赞传播
+ 社区评论的赞同表达

### 核心需求
梳理一下点赞系统的 p0 级功能（没有就不能上线）：

+ 原子操作：点赞/取消操作的幂等性保证
+ 实时统计：内容点赞数的即时更新
+ 状态查询：用户是否点赞的快速判断
+ 数据持久：点赞记录的可靠存储

### 技术挑战
1）高并发写入：热点内容可能产生每秒万级请求

![](./public/images/image%20(4).png)

2）数据一致性：缓存与数据库的同步保障

![](./public/images/image%20(5).png)

3）实时性要求：用户操作后即时反馈状态

4）扩展能力：支撑业务规模指数级增长

## 三、项目三大阶段
### 第一阶段：基础功能开发（入门）
![](./public/images/image%20(6).png)

使用 Spring Boot + MyBatis-Plus 快速开发基础功能，可作为基础互动系统，适用于小规模应用。完成本期之后，作为小型网站的点赞功能完全没有问题，而且此时没有引入各种其他依赖，更容易维护。

具体功能：

1. 对某个实体的进行点赞和取消点赞
2. 查询用户是否对这个实体点赞
3. 查询某个实体的点赞数



### 第二阶段：性能优化与高并发支持（进阶）
![](./public/images/image%20(7).png)

多种方案优化缓存策略，同时引入 Pulsar 消息队列 和 TiDB 分布式关系型数据库，减少数据库压力，提升系统并发能力。该阶段涉及大量主流优化技巧，能学到很多高并发优化经验。

多级缓存策略：

+ Caffeine 本地缓存减轻应用内存压力
+ Redis 分布式缓存实现跨节点数据共享
+ HeavyKeeper 算法高效识别热点数据

消息队列解耦：

![](./public/images/image%20(8).png)

+ 使用 Pulsar 消息队列异步处理点赞事件
+ 通过削峰填谷应对流量波峰
+ 实现批量处理和失败重试机制

分布式数据存储：

+ 升级为 TiDB 分布式关系型数据库
+ 支持水平扩展和高可用性

高并发优化技巧：

+ 本地缓存减负与热点数据识别
+ 事件驱动架构与系统解耦
+ 批量处理与定时数据同步



### 第三阶段：企业级高可用架构（高级）
![](./public/images/image%20(9).png)

1）基于 Prometheus + Grafana 实现系统的可视化监控和告警。

![](./public/images/Google%20Chrome%202025-04-09%2021.17.20.png)

2）介绍 DB/缓存/消息队列 多级降级方案，如何保证系统不崩溃，打造稳定的企业级高可用架构，支持大规模流量和容灾。

![](./public/images/image%20(10).png)

![](./public/images/image%20(11).png)

3）完全使用 AI 生成前端项目：

![](./public/images/image%20(12).png)



通过三阶段的系统迭代，从简单可用到高性能再到高可用，带大家全面实战从入门到企业级应用的点赞系统架构演进之路。

## 四、技术选型
+ Spring Boot 3 + Java 21 虚拟线程
+ MySQL + MyBatis-Plus
+ TiDB 分布式关系型数据库，支持高并发和弹性扩展
+ Redis 分布式缓存，多种数据结构优化缓存策略
+ HeavyKeeper 算法 + TTL 热点Key本地缓存
+ Pulsar 高吞吐消息队列
+ Prometheus + Grafana 可观测性
+ Alertmanager 异常告警
+ Docker 快捷启停服务，高扩展性
+ AI 生成前端代码
+ Nginx 负载均衡



怎么样，是不是很多技术都没听说过？嘎嘎猛学就完事！

## 五、项目收获
本项目涵盖高并发、大流量、高可用、分布式架构等技术，区别于普通的增删改查项目。通过该项目的实战学习，不仅能掌握点赞系统的实现核心，还能深入理解企业级架构设计、系统扩展优化方案，为简历增加竞争力。

从本项目中，你将学到：

+ 如何通过 Spring Boot 3 与 Java 21 虚拟线程实现快速响应？
+ 如何设计点赞业务的数据模型，实现对点赞记录和统计数据的管理？
+ 如何使用分布式关系型数据库（TiDB），自动分片，避免分库分表？
+ 如何运用 Redis 多种数据结构（如 Hash）存储点赞数据，提高查询效率？
+ 如何运用 Lua 脚本保证多个 Redis 命令的原子性，减少网络 IO 次数？
+ 如何引入 Pulsar 消息队列，实现点赞请求的异步处理与批量更新？
+ 如何采用批量消息消费优化并发写入性能，打破系统瓶颈？
+ 如何使用本地热点缓存（HeavyKeeper 算法）解决热点数据带来的压力？
+ 如何构建 DB/缓存/消息队列的降级与容灾方案，确保系统高可用性？
+ 如何借助 Prometheus 与 Grafana 监控关键指标，实现实时告警与预警？
+ 如何采用微服务架构（例如 Spring Cloud Alibaba 全家桶）实现系统的模块化扩展？
+ 如何整合 AI 生成前端代码，快速搭建交互式用户界面，提升用户体验？
+ 如何使用 Nginx 作为网关，实现反向代理 + 负载均衡？

